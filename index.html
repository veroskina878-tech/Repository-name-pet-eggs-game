<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pet Eggs Simulator</title>

<style>
body{
 background:#0b0b0b;
 color:white;
 font-family:Arial;
 text-align:center;
 margin:0;
}
button{
 padding:10px;
 margin:5px;
 font-size:14px;
}
.box{
 border:1px solid #444;
 padding:10px;
 margin:8px;
}
.pet{
 animation:pop .3s;
}
@keyframes pop{
 from{transform:scale(.5);opacity:0}
 to{transform:scale(1);opacity:1}
}
.common{color:#aaa}
.rare{color:#4af}
.epic{color:#c4f}
.legendary{color:#fa4}
.mythic{color:#f4f;text-shadow:0 0 8px #f0f}
.cosmic{
 background:linear-gradient(90deg,#0ff,#f0f,#ff0);
 -webkit-background-clip:text;
 color:transparent;
 text-shadow:0 0 12px #fff;
 animation:cosmic 2s linear infinite;
}
@keyframes cosmic{
 0%{filter:hue-rotate(0)}
 100%{filter:hue-rotate(360deg)}
}
.panel{display:none}
</style>
</head>

<body>

<h2>ü•ö Pet Eggs Simulator</h2>
<div id="money">üí∞ 500</div>
<div id="luck">üçÄ –£–¥–∞—á–∞: 0</div>

<button onclick="upgradeLuck()">üçÄ –£–¥–∞—á–∞ (500)</button>
<button onclick="toggle('inventory')">üéí –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å</button>
<button onclick="toggle('shop')">üõí –ë—É—Å—Ç–µ—Ä—ã</button>

<h3>ü•ö –Ø–π—Ü–∞</h3>
<div id="eggs"></div>

<div id="inventory" class="panel"></div>
<div id="shop" class="panel"></div>

<h3>üêæ –ü–æ—Å–ª–µ–¥–Ω–∏–µ –ø–∏—Ç–æ–º—Ü—ã</h3>
<div id="pets"></div>

<script>
let data = JSON.parse(localStorage.getItem("save")) || {
 money:500,
 luck:0,
 pets:[],
 boost:1,
 boostEnd:0,
 luckBoostEnd:0
};

const rarities=[
 {name:"Common",cls:"common",m:1},
 {name:"Rare",cls:"rare",m:2},
 {name:"Epic",cls:"epic",m:4},
 {name:"Legendary",cls:"legendary",m:8},
 {name:"MYTHIC",cls:"mythic",m:25},
 {name:"COSMIC",cls:"cosmic",m:150}
];

const eggsData=[
 {c:100,b:1},
 {c:1000,b:5},
 {c:10000,b:20},
 {c:100000,b:80},
 {c:1000000,b:300},
 {c:10000000,b:1500}
];

function save(){
 localStorage.setItem("save",JSON.stringify(data));
}

function rollRarity(){
 let r=Math.random()*100;
 let l=data.luck+(Date.now()<data.luckBoostEnd?10:0);
 if(r+l>99.95)return 5;
 if(r+l>99.5)return 4;
 if(r+l>93)return 3;
 if(r+l>75)return 2;
 if(r+l>50)return 1;
 return 0;
}

function openEgg(i){
 if(data.money<eggsData[i].c)return;
 data.money-=eggsData[i].c;
 let r=rollRarity();
 let inc=eggsData[i].b*rarities[r].m;
 data.pets.push({r,inc});
 save();
 update();
}

function upgradeLuck(){
 if(data.money<500)return;
 data.money-=500;
 data.luck++;
 save();
 update();
}

function toggle(id){
 let el=document.getElementById(id);
 el.style.display=el.style.display==="none"?"block":"none";
 if(id==="inventory")renderInventory();
 if(id==="shop")renderShop();
}

function renderInventory(){
 let counts={};
 data.pets.forEach(p=>counts[p.r]=(counts[p.r]||0)+1);
 let t="üì¶ –í—Å–µ–≥–æ –ø–∏—Ç–æ–º—Ü–µ–≤: "+data.pets.length+"<br>";
 for(let i in counts){
  t+=rarities[i].name+": "+counts[i]+"<br>";
 }
 document.getElementById("inventory").innerHTML=t;
}

function renderShop(){
 document.getElementById("shop").innerHTML=`
 ‚ö° <button onclick="buyBoost(2,30000,2000)">x2 –¥–æ—Ö–æ–¥ (30—Å)</button><br>
 ‚ö° <button onclick="buyBoost(5,15000,5000)">x5 –¥–æ—Ö–æ–¥ (15—Å)</button><br>
 üçÄ <button onclick="buyLuck()">+10 —É–¥–∞—á–∏ (20—Å)</button>
 `;
}

function buyBoost(m,t,c){
 if(data.money<c)return;
 data.money-=c;
 data.boost=m;
 data.boostEnd=Date.now()+t;
 save();
}

function buyLuck(){
 if(data.money<3000)return;
 data.money-=3000;
 data.luckBoostEnd=Date.now()+20000;
 save();
}

setInterval(()=>{
 let mult=(Date.now()<data.boostEnd)?data.boost:1;
 let inc=0;
 data.pets.forEach(p=>inc+=p.inc);
 data.money+=inc*mult;
 save();
 update();
},3000);

function update(){
 document.getElementById("money").innerText="üí∞ "+Math.floor(data.money);
 document.getElementById("luck").innerText="üçÄ –£–¥–∞—á–∞: "+data.luck;

 let eggsHTML="";
 eggsData.forEach((e,i)=>{
  eggsHTML+=`
   <div class="box">
    ü•ö ${e.c}
    <button onclick="openEgg(${i})">–û—Ç–∫—Ä—ã—Ç—å</button>
   </div>`;
 });
 document.getElementById("eggs").innerHTML=eggsHTML;

 let petsHTML="";
 data.pets.slice(-10).forEach(p=>{
  petsHTML+=`
   <div class="pet ${rarities[p.r].cls}">
    ${rarities[p.r].name} +${p.inc}
   </div>`;
 });
 document.getElementById("pets").innerHTML=petsHTML;
}

update();
</script>

</body>
</html>